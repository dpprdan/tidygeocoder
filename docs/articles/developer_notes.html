<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Developer Notes • tidygeocoder</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Developer Notes">
<meta property="og:description" content="Documentation for developers including how to add support for an additional geocoding service
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-5VDD0920ZP"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5VDD0920ZP');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidygeocoder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/geocoder_services.html">Geocoding Services</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tidygeocoder.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/developer_notes.html">Developer Notes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Releases</li>
    <li>
      <a href="https://jessecambon.github.io/2021/10/17/tidygeocoder-1-0-4.html" class="external-link">Version 1.0.4</a>
    </li>
    <li>
      <a href="https://jessecambon.github.io/2021/04/19/tidygeocoder-1-0-3.html" class="external-link">Version 1.0.3</a>
    </li>
    <li>
      <a href="https://jessecambon.github.io/2021/01/18/tidygeocoder-1-0-2.html" class="external-link">Version 1.0.2</a>
    </li>
    <li>
      <a href="https://jessecambon.github.io/2020/07/15/tidygeocoder-1-0-0.html" class="external-link">Version 1.0.0</a>
    </li>
    <li>
      <a href="https://jessecambon.github.io/2019/11/11/tidygeocoder-demo.html" class="external-link">Version 0.2.4</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jessecambon/tidygeocoder/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>

    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Developer Notes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jessecambon/tidygeocoder/blob/HEAD/vignettes/developer_notes.Rmd" class="external-link"><code>vignettes/developer_notes.Rmd</code></a></small>
      <div class="hidden name"><code>developer_notes.Rmd</code></div>

    </div>

    
    
<p>This page contains documentation relevant for those wishing to
contribute to the package and specific instructions for how to add
support for a new geocoding service.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The two core functions to focus on in the package are <a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/geo.R" class="external-link">geo()</a>
and <a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/reverse_geo.R" class="external-link">reverse_geo()</a>.
These functions have very similar layouts, but <code><a href="../reference/geo.html">geo()</a></code> is for
forward geocoding while <code><a href="../reference/reverse_geo.html">reverse_geo()</a></code> is for reverse
geocoding. The <code><a href="../reference/geocode.html">geocode()</a></code> and <code><a href="../reference/reverse_geocode.html">reverse_geocode()</a></code>
functions only extract input data from a dataframe and pass it to the
<code><a href="../reference/geo.html">geo()</a></code> and <code><a href="../reference/reverse_geo.html">reverse_geo()</a></code> functions respectively
for geocoding.</p>
<p>Both the <code><a href="../reference/geo.html">geo()</a></code> and <code><a href="../reference/reverse_geo.html">reverse_geo()</a></code> functions
take inputs (either addresses or coordinates) and call other functions
as needed to deduplicate the inputs, pause to comply with API usage rate
policies, and execute queries. Key parameters and settings for geocoding
are stored for easy access and display in built-in datasets.</p>
<p>Consider this query:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jessecambon.github.io/tidygeocoder/">tidygeocoder</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  locations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'tokyo'</span>, <span class="st">'madrid'</span>, <span class="st">'tokyo'</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/geocode.html">geocode</a></span><span class="op">(</span>address <span class="op">=</span> <span class="va">locations</span>, method <span class="op">=</span> <span class="st">'osm'</span>, full_results <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Unique Addresses: 2</span></span>
<span><span class="co">#&gt; Passing 2 addresses to the Nominatim single address geocoder</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Unique Addresses: 1</span></span>
<span><span class="co">#&gt; Querying API URL: https://nominatim.openstreetmap.org/search</span></span>
<span><span class="co">#&gt; Passing the following parameters to the API:</span></span>
<span><span class="co">#&gt; q : "tokyo"</span></span>
<span><span class="co">#&gt; limit : "1"</span></span>
<span><span class="co">#&gt; format : "json"</span></span>
<span><span class="co">#&gt; HTTP Status Code: 200</span></span>
<span><span class="co">#&gt; Query completed in: 0.9 seconds</span></span>
<span><span class="co">#&gt; Total query time (including sleep): 1 seconds</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Unique Addresses: 1</span></span>
<span><span class="co">#&gt; Querying API URL: https://nominatim.openstreetmap.org/search</span></span>
<span><span class="co">#&gt; Passing the following parameters to the API:</span></span>
<span><span class="co">#&gt; q : "madrid"</span></span>
<span><span class="co">#&gt; limit : "1"</span></span>
<span><span class="co">#&gt; format : "json"</span></span>
<span><span class="co">#&gt; HTTP Status Code: 200</span></span>
<span><span class="co">#&gt; Query completed in: 0.4 seconds</span></span>
<span><span class="co">#&gt; Total query time (including sleep): 1 seconds</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Query completed in: 2 seconds</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 16</span></span></span>
<span><span class="co">#&gt;      id locations   lat   long  place_id licence     osm_type osm_id class type </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 tokyo      35.7 140.   243<span style="text-decoration: underline;">209</span>120 Data © Ope… relation 1.54<span style="color: #949494;">e</span>6 boun… admi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 madrid     40.4  -<span style="color: #BB0000;">3.70</span> 272<span style="text-decoration: underline;">273</span>162 Data © Ope… relation 5.33<span style="color: #949494;">e</span>6 boun… admi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 tokyo      35.7 140.   243<span style="text-decoration: underline;">209</span>120 Data © Ope… relation 1.54<span style="color: #949494;">e</span>6 boun… admi…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: place_rank &lt;int&gt;, importance &lt;dbl&gt;, addresstype &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   name &lt;chr&gt;, display_name &lt;chr&gt;, boundingbox &lt;list&gt;</span></span></span></code></pre></div>
<p>Here is what is going on behind the scenes:</p>
<ul>
<li>The <code><a href="../reference/geocode.html">geocode()</a></code> function extracts the address data from
the input dataframe and passes it to the <code><a href="../reference/geo.html">geo()</a></code>
function.</li>
<li>The <code><a href="../reference/geo.html">geo()</a></code> function looks for unique inputs and prepares
them for geocoding. In this case, there is one duplicate input so we
only have two unique inputs.</li>
<li>The <code><a href="../reference/geo.html">geo()</a></code> function must figure out whether to use
<em>single address geocoding</em> (1 address per query) or <em>batch
geocoding</em> (multiple addresses per query). In this case the
specified Nominatim (“osm”) geocoding service does not have a batch
geocoding function so single address geocoding is used.</li>
<li>Because single address geocoding is used, the <code><a href="../reference/geo.html">geo()</a></code>
function is called once for each input to geocode all addresses (twice
in this case) and the results are combined. If batch geocoding was used
then the appropriate batch geocoding function would be called based on
the geocoding service specified.</li>
<li>Because the specified geocoding service has a usage limit, the rate
of querying is limited accordingly. By default this is based on the
<code>min_time_reference</code> dataset. This behavior can be modified
with the <code>min_time</code> argument.</li>
<li>Since the input data was deduplicated, the results must be aligned
to the original inputs (which contained duplicates) so that the original
data structure is preserved. Alternatively, if you only want to return
unique results, you can specify <code>unique_only = TRUE</code>.</li>
<li>This combined data is returned by <code><a href="../reference/geo.html">geo()</a></code> to the
<code><a href="../reference/geocode.html">geocode()</a></code> function. The <code><a href="../reference/geocode.html">geocode()</a></code> function
then combines the returned data with the original dataset.</li>
</ul>
<p>Refer to the notes below on adding a geocoding service for more
specific documentation on the code structure.</p>
</div>
<div class="section level2">
<h2 id="adding-a-new-geocoding-service">Adding a New Geocoding Service<a class="anchor" aria-label="anchor" href="#adding-a-new-geocoding-service"></a>
</h2>
<p>This section documents how to add support for a new geocoding service
to the package. Required changes are organized by file. If anything
isn’t clear, feel free to <a href="https://github.com/jessecambon/tidygeocoder/issues" class="external-link">file an
issue</a>.</p>
<p><strong>Base all changes on the main branch</strong>.</p>
<div class="section level3">
<h3 id="files-to-update">Files to Update<a class="anchor" aria-label="anchor" href="#files-to-update"></a>
</h3>
<ul>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/api_url.R" class="external-link">R/api_url.R</a></strong>
<ul>
<li>Add a standalone function for obtaining the API URL and update the
<code>get_api_url()</code> function accordingly. If arguments need to be
added to the <code>get_api_url()</code> function, make sure to adjust
the calls to this function in the <code><a href="../reference/geo.html">geo()</a></code> and
<code><a href="../reference/reverse_geo.html">reverse_geo()</a></code> functions accordingly.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/data-raw/api_parameter_reference.R" class="external-link">data-raw/api_parameter_reference.R</a></strong>
<ul>
<li>Add rows to the <a href="https://jessecambon.github.io/tidygeocoder/articles/tidygeocoder.html#api-reference">api_parameter_reference</a>
dataset to include the geocoding service. Each service is referred to by
a short name in the <code>method</code> column (which is how the service
is specified in the <code><a href="../reference/geo.html">geo()</a></code> and <code><a href="../reference/geocode.html">geocode()</a></code>
functions). The <code>generic_name</code> column has the universal
parameter name that is used across geocoding services (ie. “address”,
“limit”, etc.) while the <code>api_name</code> column stores the
parameter names that are specific to the geocoding service.</li>
<li>Note that there is no need to include parameters that are only used
for reverse geocoding or parameters that have no equivalent in other
geocoding services (ie. there is no <code>generic_name</code>)
<strong>unless</strong> the parameters are required. Parameters can
always be passed to services directly with the <code>custom_query</code>
argument in <code><a href="../reference/geo.html">geo()</a></code> or <code><a href="../reference/reverse_geo.html">reverse_geo()</a></code>.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/data-raw/api_references.R" class="external-link">data-raw/api_references.R</a></strong>
<ul>
<li>Add a row to <code>min_time_reference</code> with the minimum time
each query should take (in seconds) according to the geocoding service’s
free tier usage restrictions.</li>
<li>Add a row to <code>api_key_reference</code> if the service requires
an API key.</li>
<li>If the service you are adding has batch geocoding capabilities, add
the maximum batch size (as a row) to
<code>batch_limit_reference</code>.</li>
<li>Add a row to <code>api_info_reference</code> with links to the
service’s website, documentation, and usage policy.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/geo.R" class="external-link">R/geo.R</a></strong>
<ul>
<li>If the service supports batch geocoding then add a new function in
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/batch_geocoding.R" class="external-link">R/batch_geocoding.R</a></strong>
and add it to the <code>batch_func_map</code> named list.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/reverse_geo.R" class="external-link">R/reverse_geo.R</a></strong>
<ul>
<li>Update the <code>get_coord_parameters()</code> function based on how
the service passed latitude and longitude coordinates for reverse
geocoding.</li>
<li>If the service supports reverse batch geocoding then add a new
function in <strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/reverse_batch_geocoding.R" class="external-link">R/reverse_batch_geocoding.R</a></strong>
and add it to the <code>reverse_batch_func_map</code> named list.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/results_processing.R" class="external-link">R/results_processing.R</a></strong>
<ul>
<li>Update the <code><a href="../reference/extract_results.html">extract_results()</a></code> function which is used for
parsing single addresses (ie. not batch geocoding). You can see examples
of how I’ve tested out parsing the results of geocoding services <a href="https://github.com/jessecambon/tidygeocoder/tree/main/sandbox/query_debugging" class="external-link">here</a>.</li>
<li>In a similar fashion, update the
<code><a href="../reference/extract_reverse_results.html">extract_reverse_results()</a></code> function for reverse
geocoding.</li>
<li>Update the <code>extract_errors_from_results()</code> function to
extract error messages for invalid queries.</li>
</ul>
</li>
<li>If applicable, add new tests to the scripts in the <a href="https://github.com/jessecambon/tidygeocoder/tree/main/tests/testthat" class="external-link">tests
directory</a> for the method. Note that tests should avoid making a HTTP
query (ie. use <code>no_query = TRUE</code> in the <code><a href="../reference/geo.html">geo()</a></code>
and <code><a href="../reference/geocode.html">geocode()</a></code> functions).</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/global_variables.R" class="external-link">R/global_variables.R</a></strong>
<ul>
<li>If applicable, add your service to one of the global variables.</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="other-files">Other Files<a class="anchor" aria-label="anchor" href="#other-files"></a>
</h3>
<p>These files don’t necessarily need to be updated. However, you might
need to make changes to these files if the service you are implementing
requires some non-standard workarounds.</p>
<ul>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/query_factory.R" class="external-link">R/query_factory.R</a></strong>
<ul>
<li>Houses the functions used to create and execute API queries.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/documentation.R" class="external-link">R/documentation.R</a></strong>
<ul>
<li>Functions for producing rmarkdown package documentation.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/data.R" class="external-link">R/data.R</a></strong>
<ul>
<li>Documentation for in-built datasets.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/utils.R" class="external-link">R/utils.R</a></strong>
<ul>
<li>Common utility functions.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/R/input_handling.R" class="external-link">R/input_handling.R</a></strong>
<ul>
<li>Handles the deduplication of input data.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/external/create_logo.Rmd" class="external-link">external/create_logo.Rmd</a></strong>
<ul>
<li>Creates the package logo.</li>
</ul>
</li>
<li>
<strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/vignettes/tidygeocoder.Rmd.orig" class="external-link">vignettes/tidygeocoder.Rmd.orig</a></strong>
<ul>
<li>This file produces the vignette. See the knit command and comments
at the top of this file.</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a>
</h3>
<ul>
<li>Test out the new service to make sure it behaves as expected. You
can reference tests and example code in <a href="https://github.com/jessecambon/tidygeocoder/tree/main/sandbox" class="external-link">the
‘sandbox’ folder</a>.</li>
<li>Run <strong><code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code></strong> to make sure the
package still passes all tests and checks, but note that these tests are
designed to work offline so they do not make queries to geocoding
services.</li>
<li>As a final check, run <strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/external/online_tests.R" class="external-link">external/online_tests.R</a></strong>
to test making queries to the geocoding services. These tests are not
included in the internal package tests (<code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>)
because they require API keys which would not exist on all systems and
are dependent on the geocoding services being online at that the time of
the test.</li>
<li>Run the commands detailed in <strong><a href="https://github.com/jessecambon/tidygeocoder/blob/main/cran-comments.md" class="external-link">cran-comments.md</a></strong>
to test the package on other environments. Note that these tests should
also be included in the automated GitHub actions tests for pull
requests.</li>
</ul>
</div>
<div class="section level3">
<h3 id="releasing-a-new-version">Releasing a New Version<a class="anchor" aria-label="anchor" href="#releasing-a-new-version"></a>
</h3>
<p>To release a new version of tidygeocoder:</p>
<ul>
<li>Run the tests detailed above.</li>
<li>Update the package version in <a href="https://github.com/jessecambon/tidygeocoder/blob/main/DESCRIPTION" class="external-link">DESCRIPTION</a>.</li>
<li>Double check the package version that appears on the citation page.
It is automatically set to the latest official release in <a href="https://github.com/jessecambon/tidygeocoder/blob/main/inst/CITATION" class="external-link">inst/CITATION</a>.</li>
<li>Run the precomputed <a href="https://github.com/jessecambon/tidygeocoder/blob/main/vignettes/tidygeocoder.Rmd.orig" class="external-link">vignette</a>
to update the output. Inspect the vignette output for any problems (ie.
are there missing results?). It can be helpful to build the site and
view the HTML output for this.</li>
<li>Reserve a DOI for a new package version with <a href="https://zenodo.org/" class="external-link">Zenodo</a>.</li>
<li>Update the Zenodo DOI in <a href="https://github.com/jessecambon/tidygeocoder/blob/main/README.Rmd" class="external-link">README.Rmd</a>
and reknit to update <a href="https://github.com/jessecambon/tidygeocoder/blob/main/README.md" class="external-link">README.md</a>.</li>
<li>Rebuild the site: <code><a href="https://pkgdown.r-lib.org/reference/build_site.html" class="external-link">pkgdown::build_site()</a></code> (make sure to
do this again if you need to make any more updates that show up on the
site)</li>
<li>Check URLs: <code><a href="https://rdrr.io/pkg/urlchecker/man/url_check.html" class="external-link">urlchecker::url_check()</a></code>
</li>
<li>Check spelling: <code><a href="https://devtools.r-lib.org/reference/spell_check.html" class="external-link">devtools::spell_check()</a></code>
</li>
</ul>
<p>Last, run <code><a href="https://devtools.r-lib.org/reference/release.html" class="external-link">devtools::release()</a></code> to release the new version
once everything looks good.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://jessecambon.github.io" class="external-link">Jesse Cambon</a>, <a href="https://github.com/dieghernan" class="external-link">Diego Hernangómez</a>, <a href="https://github.com/chris31415926535" class="external-link">Christopher Belanger</a>, <a href="https://github.com/dpprdan" class="external-link">Daniel Possenriede</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '2a4961d1f7b45ceee241419b8e8257d3',
    indexName: 'tidygeocoder',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
